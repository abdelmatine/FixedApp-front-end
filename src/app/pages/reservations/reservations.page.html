<ion-header [translucent]="true"  class="ion-no-border">
  <ion-toolbar color="primary">
    <ion-buttons slot="start">
      <ion-back-button defaultHref="home"></ion-back-button>
    </ion-buttons>
    <ion-title>Reservations</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true" class="content">
  <ion-card class="final">
    <ion-title 
    color="primary" 
    class="class-title" 
    size="large">FIXE JDID BOX</ion-title>
  </ion-card>



  <form [formGroup]="myForm" (ngSubmit)="onSubmit()">
    <swiper-container
    #swiper
    (afterinit)="swiperReady()"
    (slidechange)="swiperSlideChanged($event)"
    [pagination]="true">
      <swiper-slide>
        <ion-card>
          <ng-container>

                <ion-item lines="none" class="item-loc" button="" (click)="getActualPosAlert('Confirmation', 'Voulez vous vraiment récupérer vos coordonnées actuelles?')">
                  <ion-buttons >
                    <ion-text>Récupérer les coordonnées du site actuel</ion-text>
                    <ion-icon     
                     name="locate" slot="end" color="success">
                    </ion-icon>
                  </ion-buttons> 
                </ion-item>

                <ion-item lines="none" class="item-loc" button="" (click)="openMap()">
                  <ion-buttons >
                    <ion-text>Récupérer les coordonnées d'aprés la carte</ion-text>
                    <ion-icon     
                     name="location" slot="end" color="success">
                    </ion-icon>
                  </ion-buttons> 
                </ion-item>


            <!--
            <ion-input 
            readonly
            label="Numéro du contrat *" 
            label-placement="floating" 
            fill="outline"
            type="string"
            formControlName="contractNum"
            errorText="Numéro de contrat requis"
              >
          </ion-input>
            -->
    
            <ion-row>
              <ion-col>
                <ion-select 
                placeholder="INDOOR" 
                label="Type de box*" 
                label-placement="floating" 
                fill="outline" 
                formControlName="boxType"
                required>
                  <ion-select-option value="INDOOR">INDOOR</ion-select-option>
                  <ion-select-option value="OUTDOOR">OUTDOOR</ion-select-option>
                </ion-select>
              </ion-col>
    
              <ion-col>
                <ion-select 
                placeholder="B2B" 
                label="Type d'abonnement*" 
                label-placement="floating" 
                fill="outline" 
                formControlName="abbType"
                required>
                  <ion-select-option value="B2B">B2B</ion-select-option>
                  <ion-select-option value="B2C">B2C</ion-select-option>
                </ion-select>
              </ion-col>
            </ion-row>
    
    
    
     <ion-row>
      <ion-col>
        <ion-select 
        placeholder="Mr." 
        label="Civilté*" 
        label-placement="floating" 
        fill="outline" 
        formControlName="civilite"
        required>
          <ion-select-option value="Madame">Mme.</ion-select-option>
          <ion-select-option value="Monsieur">Mr.</ion-select-option>
        </ion-select>
      </ion-col>
    
      <ion-col>
        <ion-select 
        placeholder="Tunisien(ne)" 
        label="Nationalité*" 
        label-placement="floating" 
        fill="outline" 
        formControlName="nationalite"
        required>
        <ion-select-option value="TN">Tunisien(ne)</ion-select-option>
        <ion-select-option value="AG">Algerien(ne)</ion-select-option>
        <ion-select-option value="LB">lybien(ne)</ion-select-option>

        </ion-select>
      </ion-col>
     </ion-row>
    
    
            <ion-row>
              <ion-col>
    
                <ion-input
                placeholder="Prénom" 
                label="Prénom*" 
                label-placement="floating" 
                fill="outline"
                type="text"
                formControlName="prenom"
                errorText="prenom requis"
                required>
              </ion-input>
      
    
              </ion-col>
    
              <ion-col>
                <ion-input
                placeholder="Nom"   
                label="Nom*" 
                label-placement="floating" 
                fill="outline"
                type="text"
                formControlName="nom"
                errorText="nom requis"
                required>
              </ion-input>
              </ion-col>
    
            </ion-row>
    
    
            <ion-row>
              <ion-col>
                <ion-select 
                (ionChange)="onIdTypeChange($event)"
                placeholder="CIN" 
                label="Type d'identité'*" 
                label-placement="floating" 
                fill="outline" 
                formControlName="idType"
                required
                >
                  <ion-select-option value="CIN">CIN</ion-select-option>
                  <ion-select-option value="PASS">PASSEPORT</ion-select-option>
                  <ion-select-option value="SEJ">SEJOUR</ion-select-option>
    
                </ion-select>
              </ion-col>
              <ion-col>
                <ion-input
                (input)="onInput($event)"
                [counter]="true"
                [counterFormatter]="customCounterFormatter"
                placeholder="00000000"   
                label="numéro de l'identifiant*"
                label-placement="floating" 
                fill="outline"
                [type]="getInputType()"
                formControlName="numID"
                errorText="Numero ID invalid"
                >
              </ion-input>
              </ion-col>
            </ion-row> 

            <ion-row>
              <ion-col>
                <ion-input
                label="Latitude*" 
                label-placement="floating" 
                fill="outline"
                type="number"
                readonly
                formControlName="latitude"
                errorText="latitude requise"
                required>
              </ion-input>
              </ion-col>
    
              <ion-col>
                <ion-input
                label="Longitude*" 
                label-placement="floating" 
                fill="outline"
                type="number"
                readonly
                formControlName="longitude" 
                errorText="longitude requise"
                required>
              </ion-input>
              </ion-col>
    
            </ion-row>

 
        
          </ng-container>
        </ion-card>

        <ion-item 
        (click)="goNext()"
        lines="none">
          <ion-buttons  slot="end">
              Page suivante
            <ion-button color="success">
              <ion-icon slot="icon-only" name="chevron-forward-outline"></ion-icon>
            </ion-button>
          </ion-buttons>
        </ion-item>

      </swiper-slide>

      <swiper-slide>
        <!--SWIPER PAGE 2-->
        <ion-card>
          <ng-container>
    

            <ion-row>
              <ion-col>
                <ion-input
                label="Date de naissance*" 
                label-placement="floating" 
                fill="outline"
                type="date"
                displayFormat="dd/mm/yyyy"
                formControlName="naissance"
                errorText="date de naissance invalide"
                max="2002-01-01" 
                required>
              </ion-input>
              </ion-col>
    
              <ion-col>
                <ion-input
                placeholder="154 boumhal 2097"  
                label="Adresse*" 
                label-placement="floating" 
                fill="outline"
                type="text"
                formControlName="adresse"
                errorText="adresse invalide"
                required>
              </ion-input>
    
              </ion-col>
            </ion-row>
    
            <ion-row>
              <ion-col>
                <ion-input
                placeholder="Ben Arous"   
                label="Gouvernorat*" 
                label-placement="floating" 
                fill="outline"
                type="text"
                formControlName="gouvernorat"
                errorText="gouvernorat requis"
                required>
              </ion-input>
              </ion-col>
    
              <ion-col>
                <ion-input
                placeholder=""   
                label="Délégation*" 
                label-placement="floating" 
                fill="outline"
                type="text"
                formControlName="delegation"
                errorText="délégation requis"
                required>
              </ion-input>
              </ion-col>
            </ion-row>
    
    
     <ion-row>
      <ion-col>
        <ion-input
        placeholder=""   
        label="Localité*" 
        label-placement="floating" 
        fill="outline"
        type="text"
        formControlName="localite"
        errorText="Localité requis"
        required>
      </ion-input>
      </ion-col>
    
      <ion-col>
        <ion-input
        placeholder="Boumhal"   
        label="Ville*" 
        label-placement="floating" 
        fill="outline"
        type="text"
        formControlName="ville"
        errorText="Ville requise"
        required>
      </ion-input>
      </ion-col>
     </ion-row>
    
    
            <ion-row>
              <ion-col>
    
                <ion-input
                maxlength="4"
                [counter]="true"
                [counterFormatter]="customCounterFormatter"
                placeholder="2097"   
                label="Code postale*" 
                label-placement="floating" 
                fill="outline"
                type="number"
                formControlName="codePostal"
                errorText="Code postale requis"
                required>
              </ion-input>
      
    
              </ion-col>
    
              <ion-col>
                <ion-input
                placeholder="example@email.com"   
                label="Email*" 
                label-placement="floating" 
                fill="outline"
                type="email"
                formControlName="email"
                errorText="Email requise"
                required>
              </ion-input>
              </ion-col>
    
            </ion-row>
    <!--
          label="numéro ID *"
          maxLength="8"
          inputLength="8"
          (input)="onInput($event)"
          [counterFormatter]="customCounterFormatter"
          [counter]="true"
          placeholder="00000000"    
          label-placement="floating" 
          fill="outline"
          placeholder="Numéro de l'identifiant"
          type="number"
          formControlName="numID"
          errorText="Numero de 'identifiant requis"
    -->
    
            <ion-row>
              <ion-col>
                <ion-input
                (input)="onInput($event)"
                maxlength="8"
                [counter]="true"
                [counterFormatter]="customCounterFormatter"
                placeholder="22 222 222"   
                label="N° Mobile 1*" 
                label-placement="floating" 
                fill="outline"
                type="number"
                formControlName="telOne"
                errorText="Numéro mobile 1 requis"
                required>
              </ion-input>
              </ion-col>
              <ion-col>
                <ion-input
                (input)="onInput($event)"
                maxlength="8"
                placeholder="20 202 020"   
                label="N° Mobile 2"
                [counter]="true"
                [counterFormatter]="customCounterFormatter"
                label-placement="floating" 
                fill="outline"
                type="number"
                formControlName="telTwo"
                errorText="Numero mobile 2 requis">
              </ion-input>
              </ion-col>
            </ion-row>






        
          </ng-container>
        </ion-card>
        <!--ENDS HERE-->

        <ion-item  
        (click)="goPrev()"
        lines="none">
          <ion-buttons  slot="start">
            <ion-button color="success">
              <ion-icon slot="icon-only" name="chevron-back-outline"></ion-icon>
            </ion-button>
            Page précédente
          </ion-buttons>
        </ion-item>



      </swiper-slide>



    </swiper-container>


    <div class="center-container">
      <ion-button 
      shape="round"
      id="confirmer"          
      [disabled]="myForm.invalid">Suivant</ion-button>
    </div>

 </form>


 <ion-modal trigger="confirmer" [initialBreakpoint]="1" [breakpoints]="[0, 1]">
  <ng-template>



      <ion-toolbar color="primary">
        <ion-buttons slot="start">
          <ion-button (click)="cancel()">
            <ion-icon slot="icon-only" name="close-outline"></ion-icon>
          </ion-button>
        </ion-buttons>

        <ion-title>Confirmation</ion-title>

      </ion-toolbar>
    <ion-content class="ion-padding">


      <ion-title 
      color="primary" 
      class="class-title" 
      size="large">FIXE JDID BOX</ion-title>




          <ion-card  class="card-class">

            <h1 class="center-button">Procéder au Règlement?</h1>

            <ion-item
            fill="outline" 
            lines="none" 
            class="input-type">
              <ion-label>
                Type de box: 
              </ion-label>
              <ion-input
              text-align="center" 
              readonly
              fill="outline" 
              type="text" 
              [value]="myForm.value.boxType"
              ></ion-input>
            </ion-item>
    
            <ion-item 
            fill="outline" 
            lines="none" 
            class="input-type">
              <label>
                Type d'abonnement:
              </label>
              <ion-input 
              text-align="center" 
              readonly
              fill="outline" 
              type="text" 
              [value]="myForm.value.abbType"
              ></ion-input>
            </ion-item>
    
            <ion-item
            fill="outline" 
            lines="none" 
            class="input-type">
              <ion-label>
                Prix TTC:
              </ion-label>
                <ion-input
                text-align="center" 
                readonly
                fill="outline" 
                type="text" 
                [value]="31.500"
                ></ion-input>
            </ion-item>

          </ion-card>



        <ion-card class="card-class">

          <ion-text class="class-center">Vous pouvez annuler ou modifier la demande en cliquant sur la button correspendante !</ion-text>

          <ion-row>
            <ion-col>
              <div class="center-container">
                <ion-button
                (click)="handleClick()">
                  Règlement
                </ion-button>
              </div>
            </ion-col>
            <ion-col>
              <div class="center-container">
                <ion-button
                (click)="handleClick()">
                  Annuler
                </ion-button>
              </div>
            </ion-col>
            <ion-col>
              <div class="center-container">
                <ion-button
                (click)="handleClick()">
                  Modifier
                </ion-button>
              </div>
            </ion-col>
          </ion-row>

        </ion-card>

 






    </ion-content>

  </ng-template>



</ion-modal>

</ion-content>



<!--
        <swiper-slide>
        <ion-item>
          <label for="nom">Signature Client :</label>
          <canvas #signaturePad></canvas>
  
          <div class="ion-text-center">
            <ion-buttons>
              <ion-button (click)="clear()">Clear</ion-button>
            </ion-buttons>
            <ion-buttons>
              <ion-button (click)="submit()">Submit</ion-button>
  </ion-buttons>
  </div>
  </ion-item>
  <div class="ion-text-center">
    <ion-button (click)="Valider()">Valider</ion-button>
  </div>
  </swiper-slide>
-->

<!--
  <ion-modal trigger="reglement" #modaltwo [initialBreakpoint]="1" [breakpoints]="[0, 1]">
  <ng-template>

      <ion-toolbar color="primary">
        <ion-buttons slot="start">
          <ion-button (click)="modal?.dismiss()">
            <ion-icon slot="icon-only" name="close-outline"></ion-icon>
          </ion-button>
        </ion-buttons>

        <ion-title>Confirmation</ion-title>

      </ion-toolbar>
    <ion-content class="ion-padding">


      <ion-title 
      color="primary" 
      class="class-title" 
      size="large">FIXE JDID BOX</ion-title>



      


    </ion-content>
  </ng-template>

</ion-modal>
-->